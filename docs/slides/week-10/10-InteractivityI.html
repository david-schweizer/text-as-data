<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="David Schweizer">
  <meta name="dcterms.date" content="2024-04-30">
  <title>Automated Data Collection - Course Website - Web scraping static</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Web scraping static</h1>
  <p class="subtitle">Week 12</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
David Schweizer 
</div>
        <p class="quarto-title-affiliation">
            University of Mannheim
          </p>
    </div>
</div>

  <p class="date">April 30, 2024</p>
</section>
<section id="plan-for-today" class="slide level2">
<h2>Plan for today</h2>
<ul>
<li><p>Input:</p>
<ul>
<li>Scraping static web pages politely</li>
</ul></li>
<li><p>Coming up:</p>
<ul>
<li><strong>Crawling</strong> static pages and <strong>scraping dynamic</strong> pages</li>
</ul></li>
</ul>
</section>
<section id="static-pages-overview-1" class="slide level2">
<h2>Static Pages: Overview (1)</h2>
<p>We will use the <code>rvest</code> package to scrape data from static pages</p>
<ul>
<li><p>Static pages display the same source code and content to all visitors</p>
<ul>
<li>All visitors see the same page at a given URL</li>
<li>Each page has a different URL</li>
<li>e.g., wikipedia</li>
</ul></li>
</ul>
</section>
<section id="static-pages-overview-2" class="slide level2">
<h2>Static Pages: Overview (2)</h2>
<p>There are two main steps:</p>
<ul>
<li><p>Download the source code from one or multiple pages to R</p>
<ul>
<li>This is usually the only interaction with the page we need</li>
</ul></li>
<li><p>Select the information we want to extract from the source code</p></li>
</ul>
</section>
<section id="static-pages-rvest" class="slide level2">
<h2>Static Pages: rvest</h2>
<p>Popular, “proven” R package exclusively for web scraping by <a href="https://hadley.nz/">Hadley Wickham</a> (part of the <em>tidyverse</em>)</p>
<ul>
<li>Tutorials / documentation:
<ul>
<li><a href="https://cran.r-project.org/web/packages/rvest/rvest.pdf">Package documentation</a></li>
<li><a href="https://rvest.tidyverse.org/">rvest overivew</a></li>
<li><a href="https://bookdown.org/joone/ComputationalMethods/web-scraping.html">Example by Julian Unkel</a></li>
</ul></li>
<li>Can be easily combined with the <code>polite</code> package for ethical web scraping!</li>
</ul>
</section>
<section id="rvest-get-source-code" class="slide level2">
<h2>rvest: Get Source Code</h2>
<p>The <code>read_html</code> function gets the source code of a page:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">read_html</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr ...</code></pre>
</div>
</div>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<ul>
<li>This is the first step of web scraping!</li>
<li>Now, we need to select the specific information we want to extract</li>
</ul>
</div>
</div>
</div>
</section>
<section id="rvest-get-source-code-1" class="slide level2">
<h2>rvest: Get Source Code</h2>
<p>For ethical web scraping, we check the protocol first:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">paths_allowed</span>(<span class="at">domain =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">read_html</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr ...</code></pre>
</div>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<ul>
<li><p>Using the <code>polite</code> package simplifies ethical web scraping</p></li>
<li><p>Extracting the source coude is divided into two steps:</p>
<ul>
<li><p>Checking the protocol</p></li>
<li><p>Extract source code if allowed</p></li>
</ul></li>
<li><p>In addition, it allows us to:</p>
<ul>
<li><p>Set a time interval for accessing the page (minimum what is specified in the protocol)</p></li>
<li><p>Introducing yourself to the website administrator while scraping</p></li>
</ul></li>
</ul>
</section>
<section id="rvest-polite-get-source-code-1" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Info</a></li><li><a href="#tabset-1-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>We can use to <code>bow</code> function to check the webpage’s protocol</p>
<ul>
<li>for a specific URL</li>
</ul>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">bow</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  url,</span>
<span id="cb7-3"><a href="#cb7-3"></a>  ...</span>
<span id="cb7-4"><a href="#cb7-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code-2" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Info</a></li><li><a href="#tabset-2-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>We can use to <code>bow</code> function to check the webpage’s protocol</p>
<ul>
<li>for a specific URL</li>
<li>for a specific agent</li>
</ul>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>The argument <code>user-agent</code> provides the website administrator with information (e.g., name or contact details)</p>
</div>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">bow</span>(</span>
<span id="cb8-2"><a href="#cb8-2"></a>  url, </span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="at">user_agent =</span> <span class="st">"R Übung"</span>, </span>
<span id="cb8-4"><a href="#cb8-4"></a>  ...</span>
<span id="cb8-5"><a href="#cb8-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code-3" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Info</a></li><li><a href="#tabset-3-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<p>We can use to <code>bow</code> function to check the webpage’s protocol</p>
<ul>
<li>for a specific URL</li>
<li>for a specific agent</li>
<li>for crawl-delay</li>
</ul>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>The argument <code>delay</code> cannot be smaller than in the protocol directive</p>
</div>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">bow</span>(</span>
<span id="cb9-2"><a href="#cb9-2"></a>  url, </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="at">user_agent =</span> <span class="st">"R Übung"</span>, </span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="at">delay =</span> <span class="dv">5</span> </span>
<span id="cb9-5"><a href="#cb9-5"></a>  ...</span>
<span id="cb9-6"><a href="#cb9-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code-4" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">bow</span>(</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>, </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="at">user_agent =</span> <span class="st">"R Übung"</span>, </span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="at">delay =</span> <span class="dv">5</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;polite session&gt; https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location
    User-agent: R Übung
    robots.txt: 456 rules are defined for 33 bots
   Crawl delay: 5 sec
  The path is scrapable for this user-agent</code></pre>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code-5" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Info</a></li><li><a href="#tabset-4-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>Now, we can use the <code>scrape</code> function to extract the source code:</p>
<ul>
<li>for an object created with the <code>bow</code> function</li>
<li>it will only work if the results from the <code>bow</code> function are positive
<ul>
<li>meaning that we follow the webpage’s protocol</li>
</ul></li>
</ul>
<p>Pipe <code>bow</code> into <code>scrape</code> to avoid creating additional objects.</p>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">scrape</span>(bow,</span>
<span id="cb12-2"><a href="#cb12-2"></a>       ...</span>
<span id="cb12-3"><a href="#cb12-3"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">bow</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  url,</span>
<span id="cb13-3"><a href="#cb13-3"></a>  ...</span>
<span id="cb13-4"><a href="#cb13-4"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">scrape</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code-6" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<p>No difference, no protocol against access:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">read_html</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">bow</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">scrape</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr ...</code></pre>
</div>
</div>
</section>
<section id="rvest-polite-get-source-code-7" class="slide level2">
<h2>rvest + polite: Get Source Code</h2>
<p>Now we see a difference as there is a protocol against access:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">read_html</span>(<span class="st">"https://www.zeit.de/rezepte/suche/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html lang="de" class="no-js"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body data-page-type="centerpage" data-template="" data-is-hp="false" dat ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">bow</span>(<span class="st">"https://www.zeit.de/rezepte/suche/"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">scrape</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><strong>Remember</strong>: We can check the protocol of webpages with the <code>robotstxt</code> package or by adding <em>robots.txt</em> to the URL (e.g., www.zeit.de/robots.txt)]</p>
</div>
</div>
</div>
</section>
<section id="exercise-1" class="slide level2">
<h2>Exercise 1</h2>
<ul>
<li><p>Get the source code of https://en.wikipedia.org/wiki/World_population using the <em>read_html</em> function</p></li>
<li><p>Get the same source code using the <em>polite</em> package</p>
<ul>
<li>“introduce” yourself to the webpage</li>
<li>define a delay time</li>
</ul></li>
</ul>
</section>
<section id="rvest-html_elements" class="slide level2">
<h2>rvest: html_elements</h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Info</a></li><li><a href="#tabset-5-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<p>The function <code>html_elements</code> allows us to extract one ore multiple HTML elements from the <em>source code</em> we have downloaded.</p>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><code>html_element</code> gets the first instance of a specific element, whereas <code>html_elements</code> gets all instances.</p>
</div>
</div>
</div>
</div>
<div id="tabset-5-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="2,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">html_element</span>(</span>
<span id="cb21-2"><a href="#cb21-2"></a>             x, </span>
<span id="cb21-3"><a href="#cb21-3"></a>             css, </span>
<span id="cb21-4"><a href="#cb21-4"></a>             xpath)</span>
<span id="cb21-5"><a href="#cb21-5"></a></span>
<span id="cb21-6"><a href="#cb21-6"></a></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="fu">html_elements</span>(</span>
<span id="cb21-8"><a href="#cb21-8"></a>              x, </span>
<span id="cb21-9"><a href="#cb21-9"></a>              css, </span>
<span id="cb21-10"><a href="#cb21-10"></a>              xpath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-html_elements-1" class="slide level2">
<h2>rvest: html_elements</h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Info</a></li><li><a href="#tabset-6-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<p>The function <code>html_elements</code> allows us to extract one ore multiple HTML elements from the <em>source code</em> we have downloaded.</p>
<p>We specify the HTML elements with a selector: CSS or XPATH.</p>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>During our course, we will use CSS, which is simplified by using Chrome and/or SelectorGadget (ScrapeMate).</p>
</div>
</div>
</div>
</div>
<div id="tabset-6-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="3,9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">html_element</span>(</span>
<span id="cb22-2"><a href="#cb22-2"></a>             x, </span>
<span id="cb22-3"><a href="#cb22-3"></a>             css, </span>
<span id="cb22-4"><a href="#cb22-4"></a>             xpath)</span>
<span id="cb22-5"><a href="#cb22-5"></a></span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="fu">html_elements</span>(</span>
<span id="cb22-8"><a href="#cb22-8"></a>              x, </span>
<span id="cb22-9"><a href="#cb22-9"></a>              css, </span>
<span id="cb22-10"><a href="#cb22-10"></a>              xpath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="how-to-find-selectors" class="slide level2">
<h2>How to Find Selectors?</h2>
<p>Finding the right selectors is the most important step for web scraping. We have different ways to do this:</p>
<ul>
<li>We can inspect the source code / DOM
<ul>
<li>Not easy, time consuming, error-prone</li>
</ul></li>
<li>We can use browser extensions such as <em>SelectorGadget</em>
<ul>
<li>Not always accurate, but easy and quicker</li>
</ul></li>
<li>We can use Chrome
<ul>
<li>Good for selecting single elements</li>
</ul></li>
</ul>
</section>
<section id="using-selectorgadget" class="slide level2">
<h2>Using SelectorGadget?</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Info</a></li><li><a href="#tabset-7-2">Example</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p>Finding selectors for hyperlinks on the Wikipedia page for <a href="https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location">UN organizations by location</a></p>
<ul>
<li><p>Visit the webpage on your (Chrome ) browser</p></li>
<li><p>Activate the <em>SelectorGadget</em> extension</p></li>
<li><p>Click on any hyperlink</p></li>
</ul>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<ul>
<li><p>The clicked on element is highlighted in green</p></li>
<li><p>others are highlighted in yellow</p></li>
<li><p><em>SelectorGadget</em> identifies the selector <em>a</em></p></li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-7-2">
<p><img data-src="screenshot1.png" width="822"></p>
</div>
</div>
</div>
</section>
<section id="rvest-html_elements-2" class="slide level2">
<h2>rvest: html_elements</h2>
<p>Extracting the <em>a</em> (anchor) elements on the webpage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">bow</span>(</span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (564)}
 [1] &lt;a class="mw-jump-link" href="#bodyContent"&gt;Jump to content&lt;/a&gt;
 [2] &lt;a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"&gt; ...
 [3] &lt;a href="/wiki/Wikipedia:Contents" title="Guides to browsing Wikipedia"&gt; ...
 [4] &lt;a href="/wiki/Portal:Current_events" title="Articles related to current ...
 [5] &lt;a href="/wiki/Special:Random" title="Visit a randomly selected article  ...
 [6] &lt;a href="/wiki/Wikipedia:About" title="Learn about Wikipedia and how it  ...
 [7] &lt;a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to con ...
 [8] &lt;a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector? ...
 [9] &lt;a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wik ...
[10] &lt;a href="/wiki/Help:Introduction" title="Learn how to edit Wikipedia"&gt;&lt;s ...
[11] &lt;a href="/wiki/Wikipedia:Community_portal" title="The hub for editors"&gt;&lt; ...
[12] &lt;a href="/wiki/Special:RecentChanges" title="A list of recent changes to ...
[13] &lt;a href="/wiki/Wikipedia:File_upload_wizard" title="Add images or other  ...
[14] &lt;a href="/wiki/Main_Page" class="mw-logo"&gt;\n\t&lt;img class="mw-logo-icon"  ...
[15] &lt;a href="/wiki/Special:Search" class="cdx-button cdx-button--fake-button ...
[16] &lt;a data-mw="interface" href="/w/index.php?title=Special:CreateAccount&amp;am ...
[17] &lt;a data-mw="interface" href="/w/index.php?title=Special:UserLogin&amp;amp;re ...
[18] &lt;a href="/w/index.php?title=Special:CreateAccount&amp;amp;returnto=List+of+U ...
[19] &lt;a href="/w/index.php?title=Special:UserLogin&amp;amp;returnto=List+of+Unite ...
[20] &lt;a href="/wiki/Help:Introduction" aria-label="Learn more about editing"&gt; ...
...</code></pre>
</div>
</div>
</section>
<section id="rvest-html_elements-3" class="slide level2">
<h2>rvest: html_elements</h2>
<p>Extracting only the <strong>first</strong> <em>a</em> (anchor) elements on the webpage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">bow</span>(</span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">html_element</span>(<span class="at">css =</span> <span class="st">"a"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_node}
&lt;a class="mw-jump-link" href="#bodyContent"&gt;</code></pre>
</div>
</div>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Here, we use only the singluar version <code>html_element</code> and not <code>html_elements</code></p>
</div>
</div>
</div>
</section>
<section id="find-selectors-with-selectorgadget" class="slide level2">
<h2>Find Selectors With SelectorGadget</h2>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Info</a></li><li><a href="#tabset-8-2">Example</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<p>Now, click on one of the hyperlinks in the left pane (e.g., “Main page”) and one of the hyperlinks outside the tables on the main pane (e.g., “1 Locations”) as we are only interested in the hyperlinks in the tables.</p>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<ul>
<li><p>If you click on a yellow element, it is then highlighted red</p></li>
<li><p>Other elements are not highlighted anymore</p></li>
<li><p><em>SelectorGadget</em> identifies the selector <em>.datasortkey a</em></p></li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-8-2">
<p><img data-src="screenshot2.png" width="860"></p>
</div>
</div>
</div>
</section>
<section id="rvest-html_elements-4" class="slide level2">
<h2>rvest: html_elements</h2>
<p>Extracting <em>a</em> (anchor) elements on the webpage with class <em>.datasortkey</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">bow</span>(</span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">".datasortkey a"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (28)}
 [1] &lt;a href="/wiki/Ethiopia" title="Ethiopia"&gt;Ethiopia&lt;/a&gt;
 [2] &lt;a href="/wiki/Kenya" title="Kenya"&gt;Kenya&lt;/a&gt;
 [3] &lt;a href="/wiki/Canada" title="Canada"&gt;Canada&lt;/a&gt;
 [4] &lt;a href="/wiki/Chile" title="Chile"&gt;Chile&lt;/a&gt;
 [5] &lt;a href="/wiki/Costa_Rica" title="Costa Rica"&gt;Costa Rica&lt;/a&gt;
 [6] &lt;a href="/wiki/Dominican_Republic" title="Dominican Republic"&gt;Dominican  ...
 [7] &lt;a href="/wiki/Jamaica" title="Jamaica"&gt;Jamaica&lt;/a&gt;
 [8] &lt;a href="/wiki/United_States" title="United States"&gt;United States&lt;/a&gt;
 [9] &lt;a href="/wiki/Japan" title="Japan"&gt;Japan&lt;/a&gt;
[10] &lt;a href="/wiki/Jordan" title="Jordan"&gt;Jordan&lt;/a&gt;
[11] &lt;a href="/wiki/Lebanon" title="Lebanon"&gt;Lebanon&lt;/a&gt;
[12] &lt;a href="/wiki/Malaysia" title="Malaysia"&gt;Malaysia&lt;/a&gt;
[13] &lt;a href="/wiki/Thailand" title="Thailand"&gt;Thailand&lt;/a&gt;
[14] &lt;a href="/wiki/Turkmenistan" title="Turkmenistan"&gt;Turkmenistan&lt;/a&gt;
[15] &lt;a href="/wiki/Vietnam" title="Vietnam"&gt;Vietnam&lt;/a&gt;
[16] &lt;a href="/wiki/Austria" title="Austria"&gt;Austria&lt;/a&gt;
[17] &lt;a href="/wiki/Denmark" title="Denmark"&gt;Denmark&lt;/a&gt;
[18] &lt;a href="/wiki/Finland" title="Finland"&gt;Finland&lt;/a&gt;
[19] &lt;a href="/wiki/France" title="France"&gt;France&lt;/a&gt;
[20] &lt;a href="/wiki/Germany" title="Germany"&gt;Germany&lt;/a&gt;
...</code></pre>
</div>
</div>
</section>
<section id="how-to-find-selectors-with-chrome" class="slide level2">
<h2>How to Find Selectors With Chrome?</h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Step 1</a></li><li><a href="#tabset-9-2">Step 2</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<ul>
<li>Right click, and then <em>Inspect</em></li>
</ul>
<p><img data-src="screenshot3.png" width="860"></p>
</div>
<div id="tabset-9-2">
<ul>
<li><p>Click on <img data-src="screenshot4.png"> , then on the element on the front end</p></li>
<li><p>Right click on the highlighted element in the DOM</p></li>
<li><p>Follow: <em>Copy -&gt; Copy selector</em></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="rvest-html_elements-5" class="slide level2">
<h2>rvest: html_elements</h2>
<p>Extracting only the links for Africa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">bow</span>(</span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(7) &gt; tbody &gt; </span></span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="st">                tr &gt; td:nth-child(2) &gt; a"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (2)}
[1] &lt;a href="/wiki/Addis_Ababa" title="Addis Ababa"&gt;Addis Ababa&lt;/a&gt;
[2] &lt;a href="/wiki/Nairobi" title="Nairobi"&gt;Nairobi&lt;/a&gt;</code></pre>
</div>
</div>
</section>
<section id="rvest-html_text" class="slide level2">
<h2>rvest: html_text</h2>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Info</a></li><li><a href="#tabset-10-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<p>The function <code>html_text</code> extracts the text content of one or more HTML elements:</p>
<ul>
<li>the elements chosen with the <code>html_elements</code> function</li>
</ul>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<ul>
<li>Two versions:
<ul>
<li><code>html_text</code>returns text with any space or line breaks around it</li>
<li><code>html_text2</code> returns plain text</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">html_text</span>(x, <span class="at">trim =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-2"><a href="#cb31-2"></a></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="fu">html_text2</span>(x, <span class="at">preserve_nbsp =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-html_text-1" class="slide level2">
<h2>rvest: html_text</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">bow</span>(</span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">".datasortkey a"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-5"><a href="#cb32-5"></a>  <span class="fu">html_text</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Ethiopia"           "Kenya"              "Canada"            
 [4] "Chile"              "Costa Rica"         "Dominican Republic"
 [7] "Jamaica"            "United States"      "Japan"             
[10] "Jordan"             "Lebanon"            "Malaysia"          
[13] "Thailand"           "Turkmenistan"       "Vietnam"           
[16] "Austria"            "Denmark"            "Finland"           
[19] "France"             "Germany"            "Italy"             
[22] "Malta"              "Netherlands"        "Norway"            
[25] "Spain"              "Sweden"             "Switzerland"       
[28] "United Kingdom"    </code></pre>
</div>
</div>
</section>
<section id="rvest-html_attr-html_attrs" class="slide level2">
<h2>rvest: html_attr &amp; html_attrs</h2>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Info</a></li><li><a href="#tabset-11-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<p>The function <code>html_attrs</code> extracts the attributes of one or more HTML elements:</p>
<ul>
<li>the elements chosen with the <code>html_elements</code> function</li>
</ul>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<ul>
<li>Two versions:
<ul>
<li>singular extracts specified attribute
<ul>
<li>attribute is specified with its name, not CSS</li>
</ul></li>
<li>plural extracts all attributes</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-11-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">html_attr</span>(x, name, <span class="at">default =</span> <span class="cn">NA_character_</span>)</span>
<span id="cb34-2"><a href="#cb34-2"></a></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="fu">html_attrs</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="rvest-html_attrs" class="slide level2">
<h2>rvest: html_attrs</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">bow</span>(</span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">".datasortkey a"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="fu">html_attrs</span>() <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
            href            title 
"/wiki/Ethiopia"       "Ethiopia" 

[[2]]
         href         title 
"/wiki/Kenya"       "Kenya" 

[[3]]
          href          title 
"/wiki/Canada"       "Canada" 

[[4]]
         href         title 
"/wiki/Chile"       "Chile" 

[[5]]
              href              title 
"/wiki/Costa_Rica"       "Costa Rica" 

[[6]]
                      href                      title 
"/wiki/Dominican_Republic"       "Dominican Republic" 

[[7]]
           href           title 
"/wiki/Jamaica"       "Jamaica" 

[[8]]
                 href                 title 
"/wiki/United_States"       "United States" 

[[9]]
         href         title 
"/wiki/Japan"       "Japan" 

[[10]]
          href          title 
"/wiki/Jordan"       "Jordan" 

[[11]]
           href           title 
"/wiki/Lebanon"       "Lebanon" 

[[12]]
            href            title 
"/wiki/Malaysia"       "Malaysia" 

[[13]]
            href            title 
"/wiki/Thailand"       "Thailand" 

[[14]]
                href                title 
"/wiki/Turkmenistan"       "Turkmenistan" 

[[15]]
           href           title 
"/wiki/Vietnam"       "Vietnam" 

[[16]]
           href           title 
"/wiki/Austria"       "Austria" 

[[17]]
           href           title 
"/wiki/Denmark"       "Denmark" 

[[18]]
           href           title 
"/wiki/Finland"       "Finland" 

[[19]]
          href          title 
"/wiki/France"       "France" 

[[20]]
           href           title 
"/wiki/Germany"       "Germany" 

[[21]]
         href         title 
"/wiki/Italy"       "Italy" 

[[22]]
         href         title 
"/wiki/Malta"       "Malta" 

[[23]]
               href               title 
"/wiki/Netherlands"       "Netherlands" 

[[24]]
          href          title 
"/wiki/Norway"       "Norway" 

[[25]]
         href         title 
"/wiki/Spain"       "Spain" 

[[26]]
          href          title 
"/wiki/Sweden"       "Sweden" 

[[27]]
               href               title 
"/wiki/Switzerland"       "Switzerland" 

[[28]]
                  href                  title 
"/wiki/United_Kingdom"       "United Kingdom" </code></pre>
</div>
</div>
</section>
<section id="rvest-html_attr" class="slide level2">
<h2>rvest: html_attr</h2>
<p>Note: Some URLs are given relative to a base URL (here: https://en.wikipedia.org)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">bow</span>(</span>
<span id="cb37-2"><a href="#cb37-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">".datasortkey a"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="#cb37-5"></a>  <span class="fu">html_attr</span>(<span class="at">name =</span> <span class="st">"href"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "/wiki/Ethiopia"           "/wiki/Kenya"             
 [3] "/wiki/Canada"             "/wiki/Chile"             
 [5] "/wiki/Costa_Rica"         "/wiki/Dominican_Republic"
 [7] "/wiki/Jamaica"            "/wiki/United_States"     
 [9] "/wiki/Japan"              "/wiki/Jordan"            
[11] "/wiki/Lebanon"            "/wiki/Malaysia"          
[13] "/wiki/Thailand"           "/wiki/Turkmenistan"      
[15] "/wiki/Vietnam"            "/wiki/Austria"           
[17] "/wiki/Denmark"            "/wiki/Finland"           
[19] "/wiki/France"             "/wiki/Germany"           
[21] "/wiki/Italy"              "/wiki/Malta"             
[23] "/wiki/Netherlands"        "/wiki/Norway"            
[25] "/wiki/Spain"              "/wiki/Sweden"            
[27] "/wiki/Switzerland"        "/wiki/United_Kingdom"    </code></pre>
</div>
</div>
</section>
<section id="rvest-html_attr-url_absolute" class="slide level2">
<h2>rvest: html_attr &amp; url_absolute</h2>
<p>Using the <code>url_absolut</code> function to complete the relative URLs:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">bow</span>(</span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">".datasortkey a"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-5"><a href="#cb39-5"></a>  <span class="fu">html_attr</span>(<span class="at">name =</span> <span class="st">"href"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-6"><a href="#cb39-6"></a>  <span class="fu">url_absolute</span>(<span class="at">base =</span> <span class="st">"https://en.wikipedia.org"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "https://en.wikipedia.org/wiki/Ethiopia"          
 [2] "https://en.wikipedia.org/wiki/Kenya"             
 [3] "https://en.wikipedia.org/wiki/Canada"            
 [4] "https://en.wikipedia.org/wiki/Chile"             
 [5] "https://en.wikipedia.org/wiki/Costa_Rica"        
 [6] "https://en.wikipedia.org/wiki/Dominican_Republic"
 [7] "https://en.wikipedia.org/wiki/Jamaica"           
 [8] "https://en.wikipedia.org/wiki/United_States"     
 [9] "https://en.wikipedia.org/wiki/Japan"             
[10] "https://en.wikipedia.org/wiki/Jordan"            
[11] "https://en.wikipedia.org/wiki/Lebanon"           
[12] "https://en.wikipedia.org/wiki/Malaysia"          
[13] "https://en.wikipedia.org/wiki/Thailand"          
[14] "https://en.wikipedia.org/wiki/Turkmenistan"      
[15] "https://en.wikipedia.org/wiki/Vietnam"           
[16] "https://en.wikipedia.org/wiki/Austria"           
[17] "https://en.wikipedia.org/wiki/Denmark"           
[18] "https://en.wikipedia.org/wiki/Finland"           
[19] "https://en.wikipedia.org/wiki/France"            
[20] "https://en.wikipedia.org/wiki/Germany"           
[21] "https://en.wikipedia.org/wiki/Italy"             
[22] "https://en.wikipedia.org/wiki/Malta"             
[23] "https://en.wikipedia.org/wiki/Netherlands"       
[24] "https://en.wikipedia.org/wiki/Norway"            
[25] "https://en.wikipedia.org/wiki/Spain"             
[26] "https://en.wikipedia.org/wiki/Sweden"            
[27] "https://en.wikipedia.org/wiki/Switzerland"       
[28] "https://en.wikipedia.org/wiki/United_Kingdom"    </code></pre>
</div>
</div>
</section>
<section id="rvest-html_table" class="slide level2">
<h2>rvest: html_table</h2>
<p>Get full tables with the <code>html_table</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">bow</span>(</span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> <span class="st">"#mw-content-text &gt; div.mw-parser-output &gt; table"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb41-5"><a href="#cb41-5"></a>  <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 2 × 3
  Country  City        Organizations                                            
  &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;                                                    
1 Ethiopia Addis Ababa "United Nations Economic Commission for Africa (UNECA)"  
2 Kenya    Nairobi     "United Nations Environment Programme (UNEP)\nUnited Nat…

[[2]]
# A tibble: 7 × 3
  Country            City          Organizations                                
  &lt;chr&gt;              &lt;chr&gt;         &lt;chr&gt;                                        
1 Canada             Montreal      "International Civil Aviation Organization (…
2 Chile              Santiago      "Economic Commission for Latin America and t…
3 Costa Rica         Ciudad Colón  "University for Peace (UPEACE) (associated)" 
4 Dominican Republic Santo Domingo "International Research and Training Institu…
5 Jamaica            Kingston      "International Seabed Authority (ISA)"       
6 United States      New York City "United Nations Security Council (UNSC)\nFor…
7 United States      Washington    "International Monetary Fund (IMF)\nUnited N…

[[3]]
# A tibble: 8 × 3
  Country      City         Organizations                                       
  &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;                                               
1 China        Macau        United Nations University Institute on Computing an…
2 Japan        Tokyo        United Nations University (UNU)                     
3 Jordan       Amman        United Nations Relief and Works Agency for Palestin…
4 Lebanon      Beirut       Economic and Social Commission for Western Asia (ES…
5 Malaysia     Kuala Lumpur United Nations University International Institute f…
6 Thailand     Bangkok      Economic and Social Commission for Asia and the Pac…
7 Turkmenistan Ashgabat     United Nations Regional Centre for Preventive Diplo…
8 Vietnam      Hanoi        United Nations International School of Hanoi        

[[4]]
# A tibble: 19 × 3
   Country        City       Organizations                                      
   &lt;chr&gt;          &lt;chr&gt;      &lt;chr&gt;                                              
 1 Austria        Vienna     "Comprehensive Nuclear-Test-Ban Treaty Organizatio…
 2 Denmark        Copenhagen "United Nations Office for Project Services (UNOPS…
 3 Finland        Helsinki   "United Nations University World Institute for Dev…
 4 France         Paris      "International Institute for Educational Planning\…
 5 Germany        Bonn       "UN Bonn\nConvention on the Conservation of Migrat…
 6 Germany        Hamburg    "International Tribunal for the Law of the Sea (IT…
 7 Italy          Rome       "Food and Agriculture Organization of the United N…
 8 Italy          Trieste    "Abdus Salam International Centre for Theoretical …
 9 Italy          Turin      "United Nations Interregional Crime and Justice Re…
10 Malta          Valletta   "International Institute on Ageing (INIA)"         
11 Netherlands    The Hague  "International Court of Justice (ICJ)\nInternation…
12 Netherlands    Maastricht "United Nations University - Maastricht Economic a…
13 Norway         Oslo       "United Nations Common Supplier Database"          
14 Spain          Barcelona  "United Nations University Institute on Globalizat…
15 Spain          Madrid     "United Nations World Tourism Organization (UNWTO)"
16 Sweden         Malmö      "World Maritime University (WMU)"                  
17 Switzerland    Bern       "Universal Postal Union (UPU)"                     
18 Switzerland    Geneva     "Economic Commission for Europe (ECE or UNECE)\nGl…
19 United Kingdom London     "International Maritime Organization (IMO)"        

[[5]]
# A tibble: 6 × 2
  Location      `Number of employees in offices of the United Nations`
  &lt;chr&gt;         &lt;chr&gt;                                                 
1 New York City 10,000                                                
2 Geneva        9,800                                                 
3 Nairobi       4,000                                                 
4 Vienna        4,000                                                 
5 Rome          3,200                                                 
6 Copenhagen    1,350                                                 </code></pre>
</div>
</div>
</section>
<section id="rvest-extracting-single-variables" class="slide level2">
<h2>rvest: Extracting single variables</h2>
<p>An approach to create a table by getting each variable separately (e.g., cities):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">tibble</span>(</span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="at">Cities =</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">bow</span>(</span>
<span id="cb43-4"><a href="#cb43-4"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5"></a>  <span class="fu">scrape</span>() <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="#cb43-6"></a>  <span class="fu">html_elements</span>(</span>
<span id="cb43-7"><a href="#cb43-7"></a>    <span class="at">css =</span> <span class="st">"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(7) &gt; tbody &gt; </span></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="st">    tr &gt; td:nth-child(2) &gt; a"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-9"><a href="#cb43-9"></a>  <span class="fu">html_text</span>()</span>
<span id="cb43-10"><a href="#cb43-10"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  Cities     
  &lt;chr&gt;      
1 Addis Ababa
2 Nairobi    </code></pre>
</div>
</div>
</section>
<section id="rvest-extracting-single-variables-1" class="slide level2">
<h2>rvest: Extracting single variables</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>source_code <span class="ot">&lt;-</span> <span class="fu">bow</span>(</span>
<span id="cb45-2"><a href="#cb45-2"></a>  <span class="at">url =</span> <span class="st">"https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">scrape</span>() </span>
<span id="cb45-4"><a href="#cb45-4"></a></span>
<span id="cb45-5"><a href="#cb45-5"></a><span class="fu">tibble</span>(</span>
<span id="cb45-6"><a href="#cb45-6"></a>  <span class="at">Cities =</span> source_code  <span class="sc">%&gt;%</span> </span>
<span id="cb45-7"><a href="#cb45-7"></a>  <span class="fu">html_elements</span>(<span class="at">css =</span> </span>
<span id="cb45-8"><a href="#cb45-8"></a>     <span class="st">"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(7) &gt; tbody &gt; </span></span>
<span id="cb45-9"><a href="#cb45-9"></a><span class="st">      tr &gt; td:nth-child(2) &gt; a"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-10"><a href="#cb45-10"></a>  <span class="fu">html_text</span>()</span>
<span id="cb45-11"><a href="#cb45-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  Cities     
  &lt;chr&gt;      
1 Addis Ababa
2 Nairobi    </code></pre>
</div>
</div>
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>If you do this, try to keep the number of interactions with websites at a minimum by saving the source code as an object!</p>
</div>
</div>
</div>
</section>
<section id="exercise-2" class="slide level2">
<h2>Exercise 2:</h2>
<ul>
<li>Scrape the this <a href="https://en.wikipedia.org/wiki/List_of_United_Nations_organizations_by_location">Wikipedia site</a> (politely)
<ul>
<li>Create a data frame including United Nations organizations in Europe</li>
<li>Can you manage to have one row per organization?</li>
</ul></li>
<li>Try to scrape another static website!</li>
</ul>

<div class="footer footer-default">
<p>Automated Data Collection | Spring 2024 | University of Mannheim</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>